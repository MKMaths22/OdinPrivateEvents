<%= render partial: '/display_events', locals: {events_to_display: [@event], link_single_events: false } %>
<% if @event.attendees.size.positive? %>
  Attended by
  <% names_string = '' %>
  <% @event.attendees.each do |user| %>
  <% names_string << user.name << ', ' %>
  <% end %>
  <% string = names_string[0..-3] << '.' %>
  <%= string %>
<% else %>
  This event has no Attendees.
<% end %>
<% if current_user == @event.creator %>
  <%= link_to "Edit This Event", edit_event_path(id: @event.id) %>
  <%= link_to "Cancel This Event", event_path(id: @event.id), data: { turbo_method: :delete } %>
  <% noninvited_users = User.all - @event.invitees %>
  <br>
  <% noninvited_users.each do |user| %>
    <%= link_to "Invite #{user.name}", invitations_path(invitation: Invitation.new(), invitee_id: user.id, invited_event_id: @event.id), data: { turbo_method: :post } %>
    <br>
  <% end %>
  <% declined_users = @event.declined_invitees %>
    <% declined_users.each do |user| %>
      <%= user.name %>
      is a declined user.
    <% end %>
<% end %>